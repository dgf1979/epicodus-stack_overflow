<p id="notice"><%= notice %></p>

<h1>Questions</h1>

<% if @questions.any? %>
  <table class="table">
    <thead>
      <tr>
        <th>Title</th>
        <th>Body</th>
        <th>User</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @questions.each do |question| %>
        <tr>
          <td><%= question.title %></td>
          <td><%= question.body %></td>
          <td><%= question.user_id %></td>
          <td><%= link_to 'Show', question %></td>
          <td>
            <% if current_user && (current_user.id == question.user_id || current_user.admin) %>
              <%= link_to 'Edit', edit_question_path(question) %>
            <% end %>
          </td>
          <td>
            <% if (current_user && current_user.admin) || current_user.id == question.user_id %>
              <%= link_to 'Destroy', question, method: :delete, data: { confirm: 'Are you sure?' } %>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <p class="lead">
    There are no questions, <%= link_to "please add one", new_question_path %>
  </p>
<% end %>
<br>

<%= link_to 'New Question', new_question_path %>
